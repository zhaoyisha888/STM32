# STM32开发学习笔记

## 简介
本项目是基于B站江协科技STM32教程的学习笔记和开发记录。通过系统学习STM32单片机开发，掌握嵌入式系统开发的基础知识和实践技能。
### 开发所需知识
1. **硬件基础**
   - 数字电路
   - 模拟电路
   - 单片机基础架构
2. **软件基础**
   - C语言编程
   - 寄存器配置
   - 中断和时序
3. **开发工具**
   - Keil MDK (主要IDE)
   - ST-Link (烧录调试器)
### 参考资料
- [江协科技B站教程](https://space.bilibili.com/383400717)
- STM32中文参考手册
- STM32F103数据手册
### 目录结构
```
STM32/
├── common/             # 模块化文件和公用文件
├── doc/                # 学习文档和数据手册
├── experiments/        # 项目源码
└── source/             # 笔记图片
```
### 注意事项
1. 请仔细阅读数据手册，避免错误接线
2. 建议按照教程顺序循序渐进学习
3. 多动手多调试
4. 保持代码简洁和注释规范


## 硬件单元
1. 面包板
2. 跳线（较短，不经常挪动）
3. 飞线（经常挪动）
4. 杜邦线（插接电路模块）
5. STM32芯片  **STM32F103C8T6**
6. 0.96寸OLED显示屏模块（4引脚）
7. 电位器（AD转换实验）
8. 2引脚小按键
9.  LED灯
10. ST-Link(下载程序和供电)
11. USB转串口模块
12. 有源蜂鸣器模块（无需不断反转IO口）
13. 光敏电阻（四引脚：两个用于供电，模拟输出，数字输出）
14. 热敏模块
15. 对射式红外模块（配合遮光片用于计次，配合编码盘用于测速） 
16. 反射式红外模块（寻迹小车：向地面发射红外光，再用红外接收管接收地面反射的红外光，判断接收光强，大体识别出地面颜色变化）
17. W25Q64 Flash存储数据 （SPI总线通信）
18. MPU6050陀螺仪和加速度计（I2C总线通信，测量芯片自身姿态，四轴飞行器）
19. 旋转编码器（可输出两路正交的方波信号，指示旋转的方向和速度，可以当作快速按键使用，可模拟编码器的测速，现在的编码电机一般配备霍尔传感器或者光电传感器，原理与旋转编码器一致）
20. 直流电机和TB6612电机驱动模块，用于进行直流电机的PWM调速实验
21. SG90舵机(使用PWM控制，根据占空比固定在某个角度，可用于制作某些机器人或者机械臂的关节)


## STM32系列详细介绍

CoreMark：内核跑分，分数越高性能越好
Cortex-Mx:ARM的内核型号

STM32是ST公司基于ARM Cortex-M内核开发的32位微控制器产品系列，各系列特点如下：

![STM32系列](source/STM32MCUs.png)
### 主流型MCU
1. **F0系列 (Cortex-M0)**
   - 定位：入门级32位MCU
   - 特点：成本优化，继承STM32核心特性
   - 适用：成本敏感型应用
   - 优势：性能、低功耗与先进外设的结合

2. **F1系列 (Cortex-M3)**
   - 主频：72MHz
   - 性能：177 CoreMark
   - 定位：基础主流型号
   - 特点：高性能、低功耗、低压运行
   - 优势：架构简单，工具易用，性价比高
   - 应用：工业、医疗和消费类市场

3. **F3系列 (Cortex-M4 with FPU & DSP)**
   - 主频：72MHz
   - 性能：245 CoreMark
   - 特色外设：
     - 25ns超快速比较器
     - 可编程增益运放
     - 12位DAC
     - 5MSPS高速ADC
     - 16位Sigma-Delta ADC
   - 特点：混合信号处理能力强

### 高性能MCU
4. **F2系列 (Cortex-M3)**
   - 主频：120MHz
   - 性能：150 DMIPS/398 CoreMark
   - 特点：采用90nm工艺，集成ART加速器
   - 集成特性：1MB Flash，128KB SRAM
   - 功耗：175?A/MHz

5. **F4系列 (Cortex-M4 with FPU)**
   - 主频：180MHz
   - 性能：225 DMIPS/608 CoreMark
   - 特点：MCU控制+DSP信号处理
   - 功耗：89-260?A/MHz

6. **F7系列 (Cortex-M7)**
   - 主频：216MHz
   - 性能：1082 CoreMark/462 DMIPS
   - 特色：L1 Cache，ART加速器

7. **H7系列 (Cortex-M7/Cortex-M4)**
   - 主频：550MHz/240MHz
   - 性能：3224 CoreMark/856 DMIPS
   - 特点：超高性能旗舰型号
   - 特色：双核架构，丰富外设

### 超低功耗MCU
8. **L0系列 (Cortex-M0+)**
   - 特点：超低功耗设计
   - 特色：动态电压调节，自主外设
   - 适用：电池供电和能量收集应用

9. **L1系列 (Cortex-M3)**
   - 特点：采用超低泄漏工艺
   - 功能：5种低功耗模式
   - 特色：LCD接口，硬件加密

10. **L4系列 (Cortex-M4 with FPU)**
    - 主频：80MHz
    - 性能：100 DMIPS
    - 特点：ULPBench获得253分
    - 功能：动态电压调节，智能外设

### 无线系列MCU
11. **WB系列 (Cortex-M4 with FPU)和WL系列 (Cortex-M4 with FPU)**
    - 主频：64MHz
    - 特点：集成2.4GHz无线通信
    - 适用：物联网应用


## ARM处理器家族
![ARM处理器家族](source/ARM.png)
### Classic
ARM 处理器的早期系列，主要包括：
1. **ARM7系列**
   - 第一代广泛应用的ARM处理器
   - 16/32位RISC架构
   - 主频范围：40-60MHz
   - 代表产品：ARM7TDMI

2. **ARM9系列**
   - 5级流水线架构
   - 主频可达250MHz
   - 支持MMU内存管理
   - 常用于早期智能手机和PDA

3. **ARM11系列**
   - 8级流水线设计
   - 支持SIMD指令集
   - 主频可达1GHz
   - 应用于早期iPhone和树莓派

### Embedded
面向嵌入式应用的处理器系列：
1. **SecurCore系列**
   - 专注安全应用
   - 用于智能卡和安全终端
   - 集成加密引擎
   - 代表产品：SC000/SC300

2. **RealView系列**
   - 用于ASIC和FPGA设计
   - 提供完整开发工具链
   - 支持实时仿真和调试

3. **Embedded系列**
   - 专为嵌入式系统优化
   - 低功耗、小面积
   - 丰富的外设接口
   - 支持实时操作系统

### Application
现代ARM处理器按应用领域可分为三大主力系列：
- Cortex-A：应用处理器，用于智能手机、平板等高性能设备
- Cortex-R：实时处理器，用于实时性要求高的工业控制等场景
- Cortex-M：微控制器，用于嵌入式设备，STM32使用的就是这个系列

1. **Cortex-A系列**：性能最高，发展最快  architecture
   - 应用场景：高端应用，智能手机、平板、智能电视等消费电子
   - 特点：高性能、支持复杂操作系统(Android/Linux)
   - 主频范围：600MHz-3GHz
   - 代表产品：高通骁龙、苹果A系列、华为麒麟等

2. **Cortex-R系列**   realtime
   - 应用场景：高实时性，汽车电子、工业控制、医疗设备
   - 特点：实时性强、可靠性高、响应速度快
   - 主频范围：200MHz-800MHz
   - 主要用途：需要快速响应的安全关键型应用

3. **Cortex-M系列**   microcontroller
   - 应用场景：嵌入式设备、物联网节点、智能传感器
   - 特点：低功耗、成本低、易于开发
   - 主频范围：几MHz到200MHz
   - 产品线：M0/M0+/M3/M4/M7，性能逐级提升
   - STM32使用的就是这个系列，其中F1用M3核，F4用M4核

### 选型建议
1. 首次学习：推荐F1系列（如F103C8T6）
2. 性能要求高：考虑F4系列
3. 电池供电：选择L系列
4. 模拟处理：选择G系列
5. 高端应用：选择H7系列

